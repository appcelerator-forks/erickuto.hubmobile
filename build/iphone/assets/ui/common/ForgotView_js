function PasswordView(){function o(e){function n(){t>=ttk&&(s.opacity=0,f.borderColor="#e0e0e0",f.borderRadius=5,f.borderWidth=1,a.show(),clearInterval(r)),t+=intervalLength}s.text=e,a.hide(),s.opacity=1,f.borderColor="red",f.borderRadius=5,f.borderWidth=1;var t=0;ttk=5e3,intervalLength=1e3;var r=setInterval(n,intervalLength)}hub=require("hub");var e=hub.API.hsf,t=hub.API.wsf,n=50,r=function(){var r=Ti.UI.createView({height:"auto",top:20*e,layout:"vertical"});win.addContent(r),response_text="We sent sent you an email with a link to change your AshokaHub password.\n\nIf you don't see it soon, please check your spam messages.\n\nIf you are having trouble logging in, let us know by emailing hub@ashoka.org",f.hide(),l.hide(),a.hide(),r.add(Ti.UI.createLabel({left:n,right:n,top:0,font:{fontSize:19*e,fontFamily:hub.API.customFont},color:hub.API.customTextColor,text:response_text}));var i=Ti.UI.createButton({title:"Return to Log in",top:20,width:200*t,height:40});i.addEventListener("click",function(e){hub.API.closeWindow()}),r.add(i)},i=function(e){if(e===""){alert("Please provide an email.");return}params={email:e},Connection=require("services/Connection");var t=new Connection({start:function(){win.showIndicator("Fetching password instructions")},error:function(){win.hideIndicator(),o("There was a problem connecting to Ashoka Hub")},success:function(e){win.hideIndicator(),e.message==="Updated"?r():e.message==="No Such User"?o("The Email address you provided was not found."):o("Unknown error while sending you a password reset. please contact hub@ashoka.org.")}},"passwords",params,"POST",3,{})},s=Ti.UI.createLabel({text:"",left:n,right:n,height:"auto",top:0,left:n,font:{fontSize:15*e,fontFamily:hub.API.customFont},opacity:1,color:"red"}),u=require("ui/common/CommonLoginView");win=new u,win.showNavBar();var a=Ti.UI.createLabel({left:n,right:n,height:"auto",top:20*e,font:{fontSize:17*e,fontFamily:hub.API.customFont},color:hub.API.customTextColor,text:"Forgot your password?"}),f=Ti.UI.createTextField({top:100*e,width:350*t,height:60*t,font:{fontSize:20*e,fontColor:hub.API.customTextColor,fontFamily:hub.API.customFont},hintText:"Enter your email address",keyboardType:Ti.UI.KEYBOARD_DEFAULT,returnKeyType:Ti.UI.RETURNKEY_DEFAULT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,borderColor:"#e0e0e0",borderRadius:5,borderWidth:1}),l=Ti.UI.createButton({top:180*e,right:n,width:100*t,height:50*e,borderRadius:1,backgroundImage:hub.API.imagePath("ashoka_login_btn.png")});return l.addEventListener("click",function(e){i(f.value)}),win.addContent(s),win.addContent(f),win.addContent(l),win.addContent(a),thisWindow=win.appwin,thisWindow}module.exports=PasswordView