function buildUserView(e){var t=Ti.UI.createView({backgroundColor:hub.API.customBgColor,layout:"vertical"}),n=function(e){var t=Ti.UI.createTableViewRow({hasChild:!1,touchEnabled:!1,selectionStyle:Ti.UI.iPhone.TableViewCellSelectionStyle.NONE,focusable:!1});return t.add(e),t},r=Ti.UI.createTableView({top:0,separatorColor:"transparent",backgroundColor:hub.API.customBgColor}),i=[],s=Ti.UI.createView({top:0,height:100,layout:"horizontal"}),o=Ti.UI.createImageView({image:e.userMetaData.avatarUrl,height:100,width:100,left:1,top:1}),u=Ti.UI.createView({top:0,left:5,height:100,layout:"vertical"});s.add(o,u);var a=Ti.UI.createLabel({top:0,height:20,left:0,font:{fontSize:14},text:e.userMetaData.displayName}),f=Ti.UI.createLabel({top:0,height:20,left:0,font:{fontSize:14},text:e.userMetaData.userType}),l=Ti.UI.createLabel({top:0,height:20,left:0,font:{fontSize:14},text:e.userData.designation});u.add(a,f,l);var c=Ti.UI.createView({top:0,height:300*hsf,layout:"vertical"}),h=Ti.UI.createView({top:0,height:20,layout:"horizontal"}),p=Ti.UI.createLabel({top:0,left:0,font:{fontSize:14},text:"Located In:"}),d="";e.userData.city!=null&&(d+=e.userData.city),e.userData.country!=null&&(e.userData.city!=null&&(d+=" , "),d+=e.userData.country);var v=Ti.UI.createLabel({top:0,left:0,font:{fontSize:14},text:d});h.add(p,v);var m=Ti.UI.createView({top:0,height:20,layout:"horizontal"}),g=Ti.UI.createLabel({top:0,left:0,font:{fontSize:14},text:"Languages:"}),y="";for(k=0;k<e.languages.length;k++)y+=e.languages[k].name,k!=e.languages.length-1&&(y+=", ");var b=Ti.UI.createLabel({top:0,left:0,font:{fontSize:14},text:y});m.add(g,b),y!=""&&u.add(m),d!=""&&u.add(h);var w=e.userData.about;w&&w!="<p></p>"?w='<div style = "font-size:14px">'+w+"</div>":w="<p></p>";var E=Ti.UI.createWebView({top:0,html:w});c.add(E);var S=Ti.UI.createView({top:5,height:60*hsf,width:250*wsf,left:10,borderRadius:8,borderWidth:1,layout:"horizontal",backgroundColor:hub.API.hubDarkBlue});send_message_text="Send "+e.userData.first_name+" a message",S.add(Ti.UI.createImageView({top:5,left:5,width:40*wsf,image:hub.API.imagePath("small_messages_icon.png")})),S.add(Ti.UI.createLabel({top:5,left:5,font:{fontSize:13},text:send_message_text,color:"#FFFFFF"})),follow_button_text=e.userMetaData.followWidget.text+" "+e.userData.first_name;var x=Ti.UI.createView({top:5,width:200*wsf,layout:"horizontal",height:50*hsf,left:10,borderRadius:8,borderWidth:1,backgroundColor:hub.API.hubDarkBlue}),T="little_"+e.userMetaData.followWidget.text+"_star.png";x.add(Ti.UI.createImageView({top:5,left:5,width:40*wsf,image:hub.API.imagePath(T)})),x.add(Ti.UI.createLabel({top:5,left:5,font:{fontSize:13},text:follow_button_text,color:"#FFFFFF"})),tagsView=Ti.UI.createView({layout:"horizontal",height:"auto",left:5});var N=e.userMetaData.allTagsData,C=function(e){tagText=e.name;var t=200,n=Ti.UI.createView({left:5,top:3,width:1,height:30,backgroundColor:hub.API.hubDarkBlue,borderWidth:1,borderColor:"#2E2E2E",borderRadius:5,layout:"horizontal"}),r=Ti.UI.createView({left:3,top:0,width:30,height:30}),i="little_"+e.followWidget.text+"_star.png";followStar=Ti.UI.createImageView({top:5,left:5,width:40*wsf,image:hub.API.imagePath(i)}),r.add(followStar),r.addEventListener("click",function(e){Ti.API.info(tagText)});var s=Ti.UI.createLabel({left:3,text:tagText,font:{fontSize:13},width:"auto",color:"#FFFFFF",height:30});return ttlWidth=s.toImage().width,ttlWidth>t&&(ttlWidth=t),s.width=ttlWidth,n.width=ttlWidth+r.toImage().width+10,n.add(r,s),n};for(var k=0;k<N.length;k++)tagsView.add(C(N[k]));var L="About "+e.userData.first_name,A=Ti.UI.createLabel({top:0,left:5,color:hub.API.customTextColor,height:20,font:{fontWeight:"bold",fontSize:15},text:L}),O=e.userData.first_name+"'s Tags: ",M=Ti.UI.createLabel({top:0,left:5,color:hub.API.customTextColor,height:20,font:{fontWeight:"bold",fontSize:15},text:O});return i.push(n(s)),i.push(n(A)),i.push(n(c)),i.push(n(S)),i.push(n(x)),i.push(n(M)),i.push(n(tagsView)),r.setData(i),t.add(r),t}function userView(e){var t=require("ui/common/UserView");return win=new t("Explore"),self=buildUserView(e),win.addContent(self),thisWindow=win.appwin,thisWindow}hub=require("hub");var hsf=hub.API.hsf,wsf=hub.API.wsf;module.exports=userView