function SearchView(e){function o(t){var n=[],i=[];hub.API.searchResults.getResults(n);for(o=0;o<n.length;o++)n[o].neonTitle?i.push(n[o].neonTitle):i.push(n[o].displayName);hub.API.searchResults.hasMore()&&i.push("has_more");var s=[];for(var o=0;o<i.length;o++)s.push(r(i[o],e,t));t.setData(s)}function u(){var e=Ti.UI.createView({backgroundColor:hub.API.customBgColor,layout:"vertical"}),t=Ti.UI.createView({top:3,height:30,layout:"vertical"}),n=Ti.UI.createLabel({layout:"horizontal",top:3,text:"Search Results",color:hub.API.customTextColor,height:20,font:{fontWeight:"bold",fontSize:18},left:5}),r=Ti.UI.createTableView({top:0,separatorColor:"transparent",backgroundColor:hub.API.customBgColor});return o(r),r.addEventListener("click",function(e){var t=hub.API.searchResults.getNeonPath(e.index),n=hub.API.searchResults.getNeonType(e.index);if(t){var r={start:function(){win.showIndicator("Fetching "+n+"...")},error:function(){Ti.API.info("Error Fetching "+n),win.hideIndicator()},success:function(e){win.hideIndicator(),n==="Person"?hub.API.showUser(e):hub.API.showNeon(e)}};hub.API.fetchNeon(t,r)}}),t.add(n),e.add(t),e.add(r),e}hub=require("hub");var t=hub.API.app_width/5.1,n=(hub.API.app_width-350*hub.API.wsf)/2,r=function(t,n,r){var i=t,o=!0;t==="has_more"&&(o=!1);var u=Ti.UI.createTableViewRow({className:"itemRow",category:i,hasChild:o}),a=Ti.UI.createView({backgroundColor:"e5eaf0",bottom:5,height:50,width:hub.API.app_width-10,right:5,left:5,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,borderColor:"#e0e0e0",borderRadius:5,borderWidth:1,layout:"horizontal"});if(t==="has_more")a.backgroundColor="003a5f",titleImage=Ti.UI.createImageView({top:5,width:250,image:hub.API.imagePath("more.png")}),a.add(titleImage),u.addEventListener("click",function(t){var n=[];r.setData(n),s(e,r)});else{var f=Ti.UI.createLabel({text:t,width:"auto",color:"#5e656a",left:5,top:20,font:{fontSize:14}});a.add(f)}return u.add(a),u},i=function(e){var t=Ti.UI.createTableViewRow({hasChild:!1,touchEnabled:!1,selectionStyle:Ti.UI.iPhone.TableViewCellSelectionStyle.NONE,focusable:!1});return t.add(e),t},s=function(e,t){var n={start:function(){win.showIndicator("Fetching "+e+"...")},error:function(){Ti.API.info("Error Fetching "+e),win.hideIndicator()},success:function(){win.hideIndicator(),o(t)}};e==="people"?hub.API.fetchResults("users",hub.API.user.getFilterCriterion(),hub.API.searchResults.getPage()+1,n):hub.API.fetchResults(e,hub.API.user.getFilterCriterion(),hub.API.searchResults.getPage()+1,n)},a=require("ui/common/UserView");return search_win=new a("Explore"),self=u(),search_win.addContent(self),thisWindow=search_win.appwin,thisWindow}module.exports=SearchView