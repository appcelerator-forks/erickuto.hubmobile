var hubAPI={},utilities=require("ui/common/utilities"),util=new utilities;hubAPI.util=util,hubAPI.hsf=util.height_scale_factor,hubAPI.wsf=util.width_scale_factor,hubAPI.app_width=util.app_width,hubAPI.app_height=util.app_height,hubAPI.margin_offset=(util.app_width-350*util.wsf)/2,hubAPI.customBgColor=util.customBgColor,hubAPI.customTextColor=util.customTextColor,hubAPI.hubDarkBlue="#013a5f",hubAPI.imagePath=function(e){return util.imagePath(e)},hubAPI.osname=util.osname;var addVariable=function(e,t,n,r){var i={};i["key"+t]=n,i["value"+t]=r,e.push(i)},NavigationController=require("NavigationController").NavigationController;hubAPI.controller=new NavigationController,hubAPI.openWindow=function(e){hubAPI.controller.open(e)},hubAPI.closeWindow=function(){hubAPI.controller.close()},hubAPI.homeWindow=function(){return hubAPI.controller.home(),Ti.API.info("Closed all Pages. "),!0},hubAPI.indicate=function(e){function o(){s>=i&&u(),s+=r,Ti.API.info(s/1e3)}function u(){clearInterval(a),n.hide()}var t=require("ui/common/ActivityIndicator"),n=new t;n.show(e);var r=1e3,i=1e4,s=0,a=setInterval(o,r);hubAPI.stopIndication=function(){u(),Ti.API.info("Animation stopped")}},hubAPI.addVariable=addVariable,hubAPI.fetchNeon=function(e,t){var n=[];addVariable(n,n.length,"auth_token",hubAPI.user.getAuthToken()),Connection=require("services/Connection");var r=new Connection({start:function(){t.start&&t.start()},error:function(){t.error&&t.error()},success:function(e){t.success(e)}},e.slice(1),[],"GET",n)},hubAPI.showNeon=function(e){NeonView=require("ui/common/dashboardViews/exploreViews/NeonView");var t=new NeonView(e);hub.API.openWindow(t)},hubAPI.showUser=function(e){UserView=require("ui/common/dashboardViews/exploreViews/UserProfileView");var t=new UserView(e);hub.API.openWindow(t)},hubAPI.fetchResults=function(e,t,n,r){var i=[];hubAPI.user.getAll(i),addVariable(i,i.length,"auth_token",hubAPI.user.getAuthToken()),addVariable(i,i.length,"page",n),addVariable(i,i.length,"order",t),addVariable(i,i.length,"query",hubAPI.user.getFilterQuery()),addVariable(i,i.length,"content",hubAPI.user.getFilterContent()),SearchResults=require("services/SearchResults"),hubAPI.searchResults=new SearchResults(e,i,r)},hubAPI.getRemoteURL=function(e,t){var n="http://greenhub-mobile.herokuapp.com/";return n+e},hubAPI.fetchProfileInfo=function(e){var t=[];addVariable(t,t.length,"auth_token",hubAPI.user.getAuthToken()),Connection=require("services/Connection");var n=new Connection(e,"users",[],"GET",t)},hubAPI.newMessage=function(e){NewMessageView=require("ui/common/dashboardViews/messageViews/NewMessageView");var t=new NewMessageView;hub.API.openWindow(t)},hubAPI.userTypes=["Team?","Fellow","Ashoka Support Network","Ashoka Team","Changemaker","Changeleader"],hubAPI.fetchMessages=function(e,t,n){var r=[];addVariable(r,r.length,"auth_token",hubAPI.user.getAuthToken()),addVariable(r,r.length,"page",t),Messages=require("services/Messages"),e==="inbox"?e="message_threads":e="message_threads/"+e,hubAPI.messages=new Messages(e,r,n)},exports.API=hubAPI